---
title: K8S_architecture_etcd
tags:
  - kubernetes
date: 2024_04_25
Modify_Date: 
reference:
---
# K8S_architecture_etcd

모든 오브젝트(Pod, Replicas, Service, Secret 등) 는 API 서버가 다시 시작되거나 실패하더라도 유지하기 위해 매니페스트가 영구적으로 저장될 필요가 있습니다. 이를 위해 쿠버네티스는 빠르고, 분산되어 저장되며, 키-값 구조의 저장소를 제공하는 etcd를 사용합니다.
**쿠버네티스 API 서버만이 etcd와 직접적으로 통신하는 유일한 구성 요소 입니다.** 다른 구성 요소는 API 서버로 간접적으로 데이터에 접근합니다.
이를통해 낙관적 잠금 시스템뿐만 아니라 유효성 검사를 하는등의 이점을 얻습니다.
쿠버네티스가 클러스터 상태와 메타데이터를 저장하는 유일한 장소가 etcd 라는 것은 매우 주중요한 정보입니다.


> [!NOTE] 낙관적락(Optimistic), 비관적락(Pessimistic)
> 	낙관적 동시성 제어는 데이터 조각에 잠금을 설정해 그동안 데이터를 잃거나 업데이트를 하지 못하게 하는 대신, 데이터에 버전 번호를 포함하는 방법이다. 데이터가 업데이트 될 때
